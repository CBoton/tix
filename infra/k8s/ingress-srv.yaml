apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: ingress-service
  annotations:
    kubernetes.io/ingress.class: nginx
    nginx.ingress.kubernetes.io/use-regex: 'true'
spec:
  rules:
    - host: ticketing.dev
      http:
        paths:
          - path: /api/users/?(.*)
            pathType: Prefix
            backend:
              service:
                name: auth-srv
                port:
                  number: 3000
          - path: /?(.*)
            backend:
              service:
                name: client-srv
                port: 3000
#https://hooks.slack.com/services/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

#gcloud run deploy slacker \
#--image=us-east1-docker.pkg.dev/gcb-release/cloud-build-notifiers/slack:latest \
#--no-allow-unauthenticated \
#--update-env-vars=CONFIG_PATH=gs://smtp-notifier-bucket/slack-config.yaml,PROJECT_ID=app-mod-gebu-trainees
